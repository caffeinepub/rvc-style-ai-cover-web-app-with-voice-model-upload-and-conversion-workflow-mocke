{
  "kind": "build_request",
  "title": "RVC-style AI cover web app with voice model upload and conversion workflow (mocked processing)",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Create core app structure and navigation for an RVC-style website with pages for (a) Voice Models (upload/manage), (b) Create Cover (upload source audio + pick model + submit), and (c) Jobs/History (view past conversions and download results).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Ok, can you make an RVC website that lets you make ai covers and upload voice models?"
        ]
      },
      "acceptanceCriteria": [
        "User can navigate between Voice Models, Create Cover, and Jobs/History pages.",
        "Each page has clear English headings, helper text, and primary actions matching the page purpose.",
        "App uses the existing template stack (React + TS, Tailwind, shadcn/ui, React Query)."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Add Internet Identity sign-in and use the authenticated principal to scope all uploaded voice models and conversion jobs to the signed-in user.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Ok, can you make an RVC website that lets you make ai covers and upload voice models?"
        ]
      },
      "acceptanceCriteria": [
        "Unauthenticated users are prompted to sign in before they can upload models or submit conversions.",
        "After sign-in, the UI shows the user as signed in (e.g., principal shortened) and provides a sign-out action.",
        "Backend stores and returns models/jobs only for the caller principal."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Implement backend support to upload, store, list, and delete user voice models, including model metadata (name, description, format/tag) and the raw model file as chunked bytes to accommodate large files.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "...upload voice models?"
        ]
      },
      "acceptanceCriteria": [
        "Backend exposes methods to: create/upload a model (chunked upload), list models for caller, get model metadata, and delete a model.",
        "Each model is associated with the uploader principal.",
        "Chunked upload supports files larger than a single message payload (client sends multiple chunks, backend reassembles)."
      ]
    },
    {
      "id": "REQ-4",
      "text": "Implement the Voice Models UI: upload form (name, description, optional tags/format, file picker), models list, and delete action, wired to backend via React Query.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "...upload voice models?"
        ]
      },
      "acceptanceCriteria": [
        "User can select a model file, enter metadata, upload, and see it appear in the models list.",
        "User can delete a model and it is removed from the list after confirmation.",
        "UI shows upload progress/state (e.g., uploading, success, error) and error messages are human-readable in English."
      ]
    },
    {
      "id": "REQ-5",
      "text": "Implement backend support for a conversion workflow: create a conversion job that references a selected voice model and an uploaded source audio file (chunked upload), track job status, and provide a downloadable 'result audio' blob when complete.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "...lets you make ai covers..."
        ]
      },
      "acceptanceCriteria": [
        "Backend exposes methods to: create job, upload audio (chunked), start/mark processing, get job status, list jobs for caller, and download result audio bytes.",
        "Job records include: jobId, createdAt, modelId, sourceAudio filename/type, status (e.g., pending/processing/completed/failed), and result metadata if completed.",
        "All jobs are scoped to the caller principal."
      ]
    },
    {
      "id": "REQ-6",
      "text": "Implement the Create Cover UI: choose an uploaded voice model, upload source audio, submit a conversion job, and display job status with an option to download the result when available.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "...lets you make ai covers..."
        ]
      },
      "acceptanceCriteria": [
        "User can select one of their uploaded models from a dropdown/list.",
        "User can upload an audio file and submit a job.",
        "After submission, the UI shows the job status and updates it (polling via React Query) until completion or failure.",
        "When completed, the UI provides a download button for the result audio."
      ]
    },
    {
      "id": "REQ-7",
      "text": "Provide a mocked/placeholder conversion implementation in the backend so the end-to-end flow works without external AI inference: upon job submission, mark the job as processing then complete it by setting the result audio to a deterministic placeholder (e.g., identical to the uploaded source audio or a simple pass-through).",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "...make ai covers..."
        ]
      },
      "acceptanceCriteria": [
        "Submitting a job eventually results in a completed job without relying on external services.",
        "The downloadable result is a valid audio file blob (at minimum, the same bytes as the uploaded source audio).",
        "The backend can also mark jobs as failed with an error message when inputs are invalid (e.g., missing model/audio)."
      ]
    },
    {
      "id": "REQ-8",
      "text": "Implement Jobs/History UI to list past conversion jobs for the signed-in user, show status/details, and allow downloading completed results.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "...make ai covers..."
        ]
      },
      "acceptanceCriteria": [
        "User can view a list of their jobs with timestamps, chosen model name, and status.",
        "User can open/view a single jobâ€™s details.",
        "Completed jobs show a download action; failed jobs show an English error message."
      ]
    },
    {
      "id": "REQ-9",
      "text": "Apply a coherent, distinctive visual theme across the app (colors, typography, spacing, and component styling) appropriate for a music/creator tool, avoiding default styling and avoiding a blue/purple palette.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ]
      },
      "acceptanceCriteria": [
        "Theme is consistent across all pages (navigation, forms, lists, buttons, alerts).",
        "Tailwind + shadcn/ui components are styled to match the chosen theme (not default).",
        "User-facing text is in English and reads like a polished product UI."
      ]
    },
    {
      "id": "REQ-10",
      "text": "Add generated static image assets for branding and hero/empty states, and render them from frontend/public/assets/generated in the UI (e.g., header logo, landing/empty-state illustration).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ]
      },
      "acceptanceCriteria": [
        "Generated images are checked into frontend/public/assets/generated and referenced directly by the frontend (no backend image routing).",
        "At least one image is used for branding (logo) and one for a page empty/hero state.",
        "Images scale appropriately on mobile and desktop without layout breakage."
      ]
    }
  ],
  "constraints": [
    "Backend must remain a single Motoko actor in backend/main.mo (no additional backend services).",
    "Do not edit files in frontend immutablePaths (compose around existing hooks/components instead).",
    "No external AI/ML inference services or third-party auth providers; use Internet Identity only for authentication.",
    "All user-facing UI text must be in English."
  ],
  "nonGoals": [
    "Implementing real RVC voice conversion / AI cover generation on-chain.",
    "Integrating external model hosting, GPU inference, or third-party conversion APIs.",
    "Real-time features (e.g., WebSockets) for job updates; polling is sufficient."
  ],
  "imageRequirements": {
    "required": [
      "Minimalist monochrome wordmark logo reading \"RVC Covers\" (rvc-covers-logo.dim_512x256.png)",
      "Stylized studio/microphone illustration with warm dark theme accents (studio-illustration.dim_1600x900.png)",
      "Three simple line icons: upload, waveform, download (rvc-icons-set.dim_512x512.png)"
    ],
    "edits": []
  }
}